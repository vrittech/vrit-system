{
    "sourceFile": "forms/models.py",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 41,
            "patches": [
                {
                    "date": 1730114962486,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1730114971000,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,4 +1,5 @@\n from django.db import models\n \n # Create your models here.\n-title\n\\ No newline at end of file\n+title\n+category\n\\ No newline at end of file\n"
                },
                {
                    "date": 1730114979842,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n from django.db import models\n \n # Create your models here.\n title\n-category\n\\ No newline at end of file\n+category--> \n"
                },
                {
                    "date": 1730115022690,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,8 @@\n from django.db import models\n \n # Create your models here.\n title\n-category--> \n+category--> foreignkey\n+description\n+header\n+\n"
                },
                {
                    "date": 1730115032621,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,6 +3,8 @@\n # Create your models here.\n title\n category--> foreignkey\n description\n-header\n+header_code\n+embedded_code\n \n+\n"
                },
                {
                    "date": 1730115038669,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,6 +5,6 @@\n category--> foreignkey\n description\n header_code\n embedded_code\n+from django.contrib import messages\n \n-\n"
                },
                {
                    "date": 1730115045646,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,6 +5,7 @@\n category--> foreignkey\n description\n header_code\n embedded_code\n-from django.contrib import messages\n+image\n \n+\n"
                },
                {
                    "date": 1730115051916,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,6 +6,6 @@\n description\n header_code\n embedded_code\n image\n+excerpt\n \n-\n"
                },
                {
                    "date": 1730115062181,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,5 +7,6 @@\n header_code\n embedded_code\n image\n excerpt\n+auto expiration\n \n"
                },
                {
                    "date": 1730115070802,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,5 +8,6 @@\n embedded_code\n image\n excerpt\n auto expiration\n+auto expiration\n \n"
                },
                {
                    "date": 1730115083641,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,6 +8,7 @@\n embedded_code\n image\n excerpt\n auto expiration\n-auto expiration\n+auto expiration date\n+position \n \n"
                },
                {
                    "date": 1730115190142,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,14 +1,14 @@\n from django.db import models\n \n-# Create your models here.\n-title\n-category--> foreignkey\n-description\n-header_code\n-embedded_code\n-image\n-excerpt\n-auto expiration\n-auto expiration date\n-position \n+# # Create your models here.\n+# title\n+# category--> foreignkey\n+# description\n+# header_code\n+# embedded_code\n+# image\n+# excerpt\n+# auto expiration\n+# auto expiration date\n+# position \n \n"
                },
                {
                    "date": 1730115275801,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,5 +10,26 @@\n # excerpt\n # auto expiration\n # auto expiration date\n # position \n+from django.db import models\n+from blog.models import BlogCategory  # Assuming you are using BlogCategory as the category model\n \n+class Forms(models.Model):\n+    title = models.CharField(max_length=255)\n+    category = models.ForeignKey(BlogCategory, on_delete=models.CASCADE, related_name='forms')\n+    description = models.TextField()\n+    header_code = models.TextField(blank=True, null=True)\n+    embedded_code = models.TextField(blank=True, null=True)\n+    image = models.ImageField(upload_to='forms', blank=True, null=True)\n+    excerpt = models.CharField(max_length=500, blank=True, null=True)\n+    auto_expiration = models.BooleanField(default=False)\n+    auto_expiration_date = models.DateField(blank=True, null=True)\n+    position = models.PositiveIntegerField(default=0)\n+\n+    created_at = models.DateTimeField(auto_now_add=True)\n+    updated_at = models.DateTimeField(auto_now=True)\n+\n+    def __str__(self):\n+        return self.title\n+\n+\n"
                },
                {
                    "date": 1730115283395,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,9 +15,9 @@\n from blog.models import BlogCategory  # Assuming you are using BlogCategory as the category model\n \n class Forms(models.Model):\n     title = models.CharField(max_length=255)\n-    category = models.ForeignKey(BlogCategory, on_delete=models.CASCADE, related_name='forms')\n+    category = models.ForeignKey(Category, on_delete=models.CASCADE, related_name='forms')\n     description = models.TextField()\n     header_code = models.TextField(blank=True, null=True)\n     embedded_code = models.TextField(blank=True, null=True)\n     image = models.ImageField(upload_to='forms', blank=True, null=True)\n"
                },
                {
                    "date": 1730115293748,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,11 +11,12 @@\n # auto expiration\n # auto expiration date\n # position \n from django.db import models\n-from blog.models import BlogCategory  # Assuming you are using BlogCategory as the category model\n \n class Forms(models.Model):\n+\n+class Forms(models.Model):\n     title = models.CharField(max_length=255)\n     category = models.ForeignKey(Category, on_delete=models.CASCADE, related_name='forms')\n     description = models.TextField()\n     header_code = models.TextField(blank=True, null=True)\n"
                },
                {
                    "date": 1730115302041,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,9 +12,10 @@\n # auto expiration date\n # position \n from django.db import models\n \n-class Forms(models.Model):\n+class Category(models.Model):\n+    pass\n \n class Forms(models.Model):\n     title = models.CharField(max_length=255)\n     category = models.ForeignKey(Category, on_delete=models.CASCADE, related_name='forms')\n"
                },
                {
                    "date": 1730115307274,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,9 +13,9 @@\n # position \n from django.db import models\n \n class Category(models.Model):\n-    pass\n+    title = models.CharField(max_length=255)\n \n class Forms(models.Model):\n     title = models.CharField(max_length=255)\n     category = models.ForeignKey(Category, on_delete=models.CASCADE, related_name='forms')\n"
                },
                {
                    "date": 1730115317915,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,9 +13,11 @@\n # position \n from django.db import models\n \n class Category(models.Model):\n-    title = models.CharField(max_length=255)\n+    name = models.CharField(max_length=255)\n+    created_at = models.DateTimeField(auto_now_add=True)\n+    updated_at = models.DateTimeField(auto_now=True)\n \n class Forms(models.Model):\n     title = models.CharField(max_length=255)\n     category = models.ForeignKey(Category, on_delete=models.CASCADE, related_name='forms')\n"
                },
                {
                    "date": 1730115323239,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,8 +16,9 @@\n class Category(models.Model):\n     name = models.CharField(max_length=255)\n     created_at = models.DateTimeField(auto_now_add=True)\n     updated_at = models.DateTimeField(auto_now=True)\n+    \n \n class Forms(models.Model):\n     title = models.CharField(max_length=255)\n     category = models.ForeignKey(Category, on_delete=models.CASCADE, related_name='forms')\n"
                },
                {
                    "date": 1730115328502,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,8 +17,10 @@\n     name = models.CharField(max_length=255)\n     created_at = models.DateTimeField(auto_now_add=True)\n     updated_at = models.DateTimeField(auto_now=True)\n     \n+    def __str__(self):\n+        return self.title\n \n class Forms(models.Model):\n     title = models.CharField(max_length=255)\n     category = models.ForeignKey(Category, on_delete=models.CASCADE, related_name='forms')\n"
                },
                {
                    "date": 1730116826160,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,8 +29,9 @@\n     embedded_code = models.TextField(blank=True, null=True)\n     image = models.ImageField(upload_to='forms', blank=True, null=True)\n     excerpt = models.CharField(max_length=500, blank=True, null=True)\n     auto_expiration = models.BooleanField(default=False)\n+    is\n     auto_expiration_date = models.DateField(blank=True, null=True)\n     position = models.PositiveIntegerField(default=0)\n \n     created_at = models.DateTimeField(auto_now_add=True)\n"
                },
                {
                    "date": 1730116836205,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,9 +29,8 @@\n     embedded_code = models.TextField(blank=True, null=True)\n     image = models.ImageField(upload_to='forms', blank=True, null=True)\n     excerpt = models.CharField(max_length=500, blank=True, null=True)\n     auto_expiration = models.BooleanField(default=False)\n-    is\n     auto_expiration_date = models.DateField(blank=True, null=True)\n     position = models.PositiveIntegerField(default=0)\n \n     created_at = models.DateTimeField(auto_now_add=True)\n"
                },
                {
                    "date": 1730116842807,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,8 +29,9 @@\n     embedded_code = models.TextField(blank=True, null=True)\n     image = models.ImageField(upload_to='forms', blank=True, null=True)\n     excerpt = models.CharField(max_length=500, blank=True, null=True)\n     auto_expiration = models.BooleanField(default=False)\n+    is = models.BooleanField(default=False)\n     auto_expiration_date = models.DateField(blank=True, null=True)\n     position = models.PositiveIntegerField(default=0)\n \n     created_at = models.DateTimeField(auto_now_add=True)\n"
                },
                {
                    "date": 1730116851191,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,9 +29,9 @@\n     embedded_code = models.TextField(blank=True, null=True)\n     image = models.ImageField(upload_to='forms', blank=True, null=True)\n     excerpt = models.CharField(max_length=500, blank=True, null=True)\n     auto_expiration = models.BooleanField(default=False)\n-    is = models.BooleanField(default=False)\n+    is_expired = models.BooleanField(default=False)\n     auto_expiration_date = models.DateField(blank=True, null=True)\n     position = models.PositiveIntegerField(default=0)\n \n     created_at = models.DateTimeField(auto_now_add=True)\n"
                },
                {
                    "date": 1730176671548,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,27 +1,15 @@\n from django.db import models\n \n-# # Create your models here.\n-# title\n-# category--> foreignkey\n-# description\n-# header_code\n-# embedded_code\n-# image\n-# excerpt\n-# auto expiration\n-# auto expiration date\n-# position \n-from django.db import models\n-\n class Category(models.Model):\n     name = models.CharField(max_length=255)\n     created_at = models.DateTimeField(auto_now_add=True)\n     updated_at = models.DateTimeField(auto_now=True)\n     \n     def __str__(self):\n-        return self.title\n+        return self.name  # Fixed 'self.title' to 'self.name' to match the field name\n \n+\n class Forms(models.Model):\n     title = models.CharField(max_length=255)\n     category = models.ForeignKey(Category, on_delete=models.CASCADE, related_name='forms')\n     description = models.TextField()\n@@ -39,5 +27,11 @@\n \n     def __str__(self):\n         return self.title\n \n-\n+    def save(self, *args, **kwargs):\n+        # Automatically mark as expired if the expiration date has passed\n+        if self.auto_expiration and self.auto_expiration_date:\n+            from datetime import date\n+            if date.today() > self.auto_expiration_date:\n+                self.is_expired = True\n+        super().save(*args, **kwargs)\n"
                },
                {
                    "date": 1730176690174,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n     created_at = models.DateTimeField(auto_now_add=True)\n     updated_at = models.DateTimeField(auto_now=True)\n     \n     def __str__(self):\n-        return self.name  # Fixed 'self.title' to 'self.name' to match the field name\n+        return self.name  \n \n \n class Forms(models.Model):\n     title = models.CharField(max_length=255)\n"
                },
                {
                    "date": 1730176934449,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n     created_at = models.DateTimeField(auto_now_add=True)\n     updated_at = models.DateTimeField(auto_now=True)\n     \n     def __str__(self):\n-        return self.name  \n+        return self.name\n \n \n class Forms(models.Model):\n     title = models.CharField(max_length=255)\n@@ -18,8 +18,9 @@\n     image = models.ImageField(upload_to='forms', blank=True, null=True)\n     excerpt = models.CharField(max_length=500, blank=True, null=True)\n     auto_expiration = models.BooleanField(default=False)\n     is_expired = models.BooleanField(default=False)\n+    is_expired = models.BooleanField(default=False)\n     auto_expiration_date = models.DateField(blank=True, null=True)\n     position = models.PositiveIntegerField(default=0)\n \n     created_at = models.DateTimeField(auto_now_add=True)\n"
                },
                {
                    "date": 1730176940191,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,9 +18,9 @@\n     image = models.ImageField(upload_to='forms', blank=True, null=True)\n     excerpt = models.CharField(max_length=500, blank=True, null=True)\n     auto_expiration = models.BooleanField(default=False)\n     is_expired = models.BooleanField(default=False)\n-    is_expired = models.BooleanField(default=False)\n+    is_show = models.BooleanField(default=False)\n     auto_expiration_date = models.DateField(blank=True, null=True)\n     position = models.PositiveIntegerField(default=0)\n \n     created_at = models.DateTimeField(auto_now_add=True)\n"
                },
                {
                    "date": 1730272671879,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n     category = models.ForeignKey(Category, on_delete=models.CASCADE, related_name='forms')\n     description = models.TextField()\n     header_code = models.TextField(blank=True, null=True)\n     embedded_code = models.TextField(blank=True, null=True)\n-    image = models.ImageField(upload_to='forms', blank=True, null=True)\n+    media = models.ImageField(upload_to='forms', blank=True, null=True)\n     excerpt = models.CharField(max_length=500, blank=True, null=True)\n     auto_expiration = models.BooleanField(default=False)\n     is_expired = models.BooleanField(default=False)\n     is_show = models.BooleanField(default=False)\n"
                },
                {
                    "date": 1731561639100,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,8 +3,9 @@\n class Category(models.Model):\n     name = models.CharField(max_length=255)\n     created_at = models.DateTimeField(auto_now_add=True)\n     updated_at = models.DateTimeField(auto_now=True)\n+     position = models.PositiveIntegerField(default=0)\n     \n     def __str__(self):\n         return self.name\n \n"
                },
                {
                    "date": 1731649432488,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n class Category(models.Model):\n     name = models.CharField(max_length=255)\n     created_at = models.DateTimeField(auto_now_add=True)\n     updated_at = models.DateTimeField(auto_now=True)\n-     position = models.PositiveIntegerField(default=0)\n+    position = models.PositiveIntegerField(default=0)\n     \n     def __str__(self):\n         return self.name\n \n@@ -32,8 +32,8 @@\n \n     def save(self, *args, **kwargs):\n         # Automatically mark as expired if the expiration date has passed\n         if self.auto_expiration and self.auto_expiration_date:\n-            from datetime import date\n             if date.today() > self.auto_expiration_date:\n                 self.is_expired = True\n-        super().save(*args, **kwargs)\n+                self.is_show = False  # Optionally hide the form\n+        super().save(*args, **kwargs)\n\\ No newline at end of file\n"
                },
                {
                    "date": 1731649448740,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,6 @@\n from django.db import models\n+from datetime import date\n \n class Category(models.Model):\n     name = models.CharField(max_length=255)\n     created_at = models.DateTimeField(auto_now_add=True)\n"
                },
                {
                    "date": 1731905140573,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,5 +36,10 @@\n         if self.auto_expiration and self.auto_expiration_date:\n             if date.today() > self.auto_expiration_date:\n                 self.is_expired = True\n                 self.is_show = False  # Optionally hide the form\n-        super().save(*args, **kwargs)\n\\ No newline at end of file\n+        super().save(*args, **kwargs)\n+        \n+    class Meta:\n+        permissions = [\n+            ('manage_email_management', 'Manage Email Management'),\n+        ]\n\\ No newline at end of file\n"
                },
                {
                    "date": 1731905153817,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -40,6 +40,6 @@\n         super().save(*args, **kwargs)\n         \n     class Meta:\n         permissions = [\n-            ('manage_email_management', 'Manage Email Management'),\n+            ('manage_forms', 'Manage Email Management'),\n         ]\n\\ No newline at end of file\n"
                },
                {
                    "date": 1731905160323,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -40,6 +40,6 @@\n         super().save(*args, **kwargs)\n         \n     class Meta:\n         permissions = [\n-            ('manage_forms', 'Manage Email Management'),\n+            ('manage_forms', 'Manage Forms'),\n         ]\n\\ No newline at end of file\n"
                },
                {
                    "date": 1732704949015,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,8 +8,13 @@\n     position = models.PositiveIntegerField(default=0)\n     \n     def __str__(self):\n         return self.name\n+    \n+     class Meta:\n+        permissions = [\n+            ('manage_forms', 'Manage Forms'),\n+        ]\n \n \n class Forms(models.Model):\n     title = models.CharField(max_length=255)\n"
                },
                {
                    "date": 1732704954387,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,9 @@\n         return self.name\n     \n      class Meta:\n         permissions = [\n-            ('manage_forms', 'Manage Forms'),\n+            ('manage_', 'Manage Forms'),\n         ]\n \n \n class Forms(models.Model):\n"
                },
                {
                    "date": 1732704961113,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,9 @@\n         return self.name\n     \n      class Meta:\n         permissions = [\n-            ('manage_', 'Manage Forms'),\n+            ('manage_category', 'Manage Forms'),\n         ]\n \n \n class Forms(models.Model):\n"
                },
                {
                    "date": 1732704969829,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,11 +9,11 @@\n     \n     def __str__(self):\n         return self.name\n     \n-     class Meta:\n+    class Meta:\n         permissions = [\n-            ('manage_category', 'Manage Forms'),\n+            ('manage_category', 'Manage Category'),\n         ]\n \n \n class Forms(models.Model):\n"
                },
                {
                    "date": 1732704977770,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,9 @@\n         return self.name\n     \n     class Meta:\n         permissions = [\n-            ('manage_category', 'Manage Category'),\n+            ('manage_formscategory', 'Manage Forms Category'),\n         ]\n \n \n class Forms(models.Model):\n"
                },
                {
                    "date": 1732707631552,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,12 +9,9 @@\n     \n     def __str__(self):\n         return self.name\n     \n-    class Meta:\n-        permissions = [\n-            ('manage_formscategory', 'Manage Forms Category'),\n-        ]\n+  \n \n \n class Forms(models.Model):\n     title = models.CharField(max_length=255)\n"
                },
                {
                    "date": 1732772085415,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,9 +9,12 @@\n     \n     def __str__(self):\n         return self.name\n     \n-  \n+    class Meta:\n+        permissions = [\n+            ('manage_formscategory', 'Manage Forms Category'),\n+        ]\n \n \n class Forms(models.Model):\n     title = models.CharField(max_length=255)\n"
                }
            ],
            "date": 1730114962486,
            "name": "Commit-0",
            "content": "from django.db import models\n\n# Create your models here.\ntitle"
        }
    ]
}