{
    "sourceFile": "vrittech/celery.py",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 8,
            "patches": [
                {
                    "date": 1730092272104,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1730094181153,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,4 @@\n-# your_project/celery.py\n import os\n from celery import Celery\n from django.conf import settings\n \n@@ -8,4 +7,7 @@\n app = Celery('your_project')\n app.config_from_object('django.conf:settings', namespace='CELERY')\n \n app.autodiscover_tasks()\n+\n+\n+celery -A your_project worker --loglevel=info\n"
                },
                {
                    "date": 1730094198404,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,6 +8,6 @@\n app.config_from_object('django.conf:settings', namespace='CELERY')\n \n app.autodiscover_tasks()\n \n-\n-celery -A your_project worker --loglevel=info\n+# Run the Celery worker:\n+# celery -A your_project worker --loglevel=info\n"
                },
                {
                    "date": 1730094209203,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,4 +10,6 @@\n app.autodiscover_tasks()\n \n # Run the Celery worker:\n # celery -A your_project worker --loglevel=info\n+\n+Run Celery Beat (to enable periodic tasks):\n\\ No newline at end of file\n"
                },
                {
                    "date": 1730094216394,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,5 +11,6 @@\n \n # Run the Celery worker:\n # celery -A your_project worker --loglevel=info\n \n-Run Celery Beat (to enable periodic tasks):\n\\ No newline at end of file\n+# Run Celery Beat (to enable periodic tasks):\n+celery -A your_project beat --loglevel=info\n"
                },
                {
                    "date": 1730094236829,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n import os\n from celery import Celery\n from django.conf import settings\n \n-os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'your_project.settings')\n+os.environ.setdefault('DJANGO_SETTINGS_MODULE', '.settings')\n \n app = Celery('your_project')\n app.config_from_object('django.conf:settings', namespace='CELERY')\n \n@@ -12,5 +12,5 @@\n # Run the Celery worker:\n # celery -A your_project worker --loglevel=info\n \n # Run Celery Beat (to enable periodic tasks):\n-celery -A your_project beat --loglevel=info\n+# celery -A your_project beat --loglevel=info\n"
                },
                {
                    "date": 1730094269148,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n import os\n from celery import Celery\n from django.conf import settings\n \n-os.environ.setdefault('DJANGO_SETTINGS_MODULE', '.settings')\n+os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'vrittech.settings')\n \n app = Celery('your_project')\n app.config_from_object('django.conf:settings', namespace='CELERY')\n \n"
                },
                {
                    "date": 1730094285302,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n from django.conf import settings\n \n os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'vrittech.settings')\n \n-app = Celery('your_project')\n+app = Celery('vrittech')\n app.config_from_object('django.conf:settings', namespace='CELERY')\n \n app.autodiscover_tasks()\n \n"
                },
                {
                    "date": 1731650242630,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,16 +1,50 @@\n import os\n from celery import Celery\n+from celery.schedules import crontab  # For advanced scheduling\n from django.conf import settings\n \n+# Set the default Django settings module for the 'celery' program.\n os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'vrittech.settings')\n \n app = Celery('vrittech')\n+\n+# Using a string here means the worker doesn't have to serialize\n+# the configuration object to child processes.\n app.config_from_object('django.conf:settings', namespace='CELERY')\n \n-app.autodiscover_tasks()\n+# Autodiscover tasks from all installed apps\n+app.autodiscover_tasks(lambda: settings.INSTALLED_APPS)\n \n-# Run the Celery worker:\n-# celery -A your_project worker --loglevel=info\n+# Periodic task schedules\n+app.conf.beat_schedule = {\n+    # Auto-expire Forms (from the `forms` app)\n+    'auto-expire-forms-daily': {\n+        'task': 'forms.tasks.auto_expire_forms',\n+        'schedule': crontab(hour=0, minute=0),  # Runs daily at midnight\n+    },\n+    # Auto-expire Careers (from the `career` app)\n+    'auto-expire-careers-daily': {\n+        'task': 'career.tasks.auto_expire_careers',\n+        'schedule': crontab(hour=1, minute=0),  # Runs daily at 1:00 AM\n+    },\n+    # Publish Scheduled Blogs (from the `blog` app)\n+    'publish-scheduled-blogs-hourly': {\n+        'task': 'blog.tasks.publish_scheduled_blogs_task',\n+        'schedule': crontab(minute=0),  # Runs hourly\n+    },\n+    # Publish Scheduled Case Studies (from the `casestudy` app)\n+    'publish-scheduled-case-studies-hourly': {\n+        'task': 'casestudy.tasks.publish_scheduled_case_study_task',\n+        'schedule': crontab(minute=30),  # Runs hourly at the 30th minute\n+    },\n+    # Send Newsletters (from the `newslettersubscription` app)\n+    'send-newsletter-emails-daily': {\n+        'task': 'newslettersubscription.tasks.send_newsletter_subscription_emails',\n+        'schedule': crontab(hour=6, minute=0),  # Runs daily at 6:00 AM\n+    },\n+}\n \n-# Run Celery Beat (to enable periodic tasks):\n-# celery -A your_project beat --loglevel=info\n+# Debug Task (Optional)\n+@app.task(bind=True)\n+def debug_task(self):\n+    print(f'Request: {self.request!r}')\n"
                }
            ],
            "date": 1730092272104,
            "name": "Commit-0",
            "content": "# your_project/celery.py\nimport os\nfrom celery import Celery\nfrom django.conf import settings\n\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'your_project.settings')\n\napp = Celery('your_project')\napp.config_from_object('django.conf:settings', namespace='CELERY')\n\napp.autodiscover_tasks()\n"
        }
    ]
}